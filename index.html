<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Games 1</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link href="./css/main.css" rel="stylesheet">
</head>
<body>
  
    <canvas class="myCanvas d_tbdr mx-auto bg-primary1 d-flex"></canvas>
  
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <script>
        var starTime;
        document.addEventListener("DOMContentLoaded", function(event){
        // var canvas = document.getElementById("");
            let canvas = document.querySelector('.myCanvas');
            canvas.width = 991;
            canvas.height = 470;
            var ctx = canvas.getContext('2d');

            const buttonWidth = 100;
            const buttonHeight = 40;
            const buttonMargin = 50;

            // Button objects
            const buttons = [
                { label: '', x: 200, y: 292 },
                { label: '', x: 460, y: 292 },
                { label: '', x: 700, y: 292 }
            ];
            
            

                       // Create an image element for the cursor
                       var cursorImage = new Image();
            cursorImage.src = "./img/hand_pointer2.png";
            // When the cursor image is loaded, set it as the cursor
            cursorImage.onload = function () {
                canvas.style.cursor = `url('${cursorImage.src}'), auto`;
            };
            // Create an image element for the background
            var backgroundImage = new Image();
            backgroundImage.src = "./img/bg2.jpg";
            // When the background image is loaded, draw it on the canvas
            backgroundImage.onload = function () {
                ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);


                // Draw buttons on the canvas
                drawButtons();
                // drawCanvas();
            };

            // Draw buttons on the canvas
            function drawButtons() {
                ctx.font = '16px Arial';
                buttons.forEach(button => {
                    ctx.fillStyle = 'rgba(175,216,230,0.3)';
                    ctx.fillRect(button.x, button.y, buttonWidth, buttonHeight);
                    ctx.fillStyle = 'white';
                    ctx.fillText(button.label, button.x + 10, button.y + 25);
                });
            }

            // Check if a button was clicked
            function isButtonClicked(button, x, y) {
                return x >= button.x && x <= button.x + buttonWidth && y >= button.y && y <= button.y + buttonHeight;
            }

            // Handle button clicks
            function handleButtonClick(event) {
                const rect = canvas.getBoundingClientRect();
                const x = event.clientX - rect.left;
                const y = event.clientY - rect.top;

                buttons.forEach(button => {
                    if (isButtonClicked(button, x, y)) {
                        console.log(`${button.label} clicked`);
                    }
                });
            }

            
            // object.addEventListener(eventname, Functionname)
            canvas.addEventListener('click', handleButtonClick);
            canvas.addEventListener("load", onCanvasLoad);
            
            starTime = performance.now(); // Record one start time
        });
      
        // Function Defination
        function onCanvasLoad(){
            console.log("I am loaded");
        };
                
        
    </script>
</body>
</html>